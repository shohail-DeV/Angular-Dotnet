<div class="container d-flex justify-content-center align-items-center vh-100">
  <div class="form-wrapper shadow rounded p-4 rounded width-10">
    <form #registerForm="ngForm" (ngSubmit)="login()" autocomplete="off">
      <h2 class="text-center text-primary">Login</h2>
      <hr />

      <div class="mb-3 form-floating">
        <input
          type="text"
          class="form-control rounded"
          name="username"
          [(ngModel)]="model.username"
          placeholder="Username"
        />
        <label>Username</label>
      </div>

      @if (validationErrors) {
      <div class="text-center">
        @for (error of validationErrors; track $index) { @if
        (error.toLowerCase().includes('username')) {
        <ul>
          <li class="text-danger">{{ error }}</li>
        </ul>
        } }
      </div>
      }

      <div class="mb-3 form-floating">
        <input
          [type]="showPassword() ? 'text' : 'password'"
          class="form-control rounded"
          name="password"
          [(ngModel)]="model.password"
          placeholder="Password"
        />
        <label>Password</label>
        <button type="button" class="btn btn-lg position-absolute top-50 end-0 translate-middle-y me-2" style="z-index: 5; background: none; border: none;" (click)="togglePasswordVisibility()" >
          <i [attr.class]="showPassword() ? 'fa fa-eye-slash' : 'fa fa-eye'"></i>
        </button>
      </div>

      @if (validationErrors) {
      <div class="text-center">
        @for (error of validationErrors; track $index) { @if
        (error.toLowerCase().includes('password')) {
        <ul>
          <li class="text-danger">{{ error }}</li>
        </ul>
        } }
      </div>
      }

      <div class="form-group text-center">
        <button class="btn btn-primary me-2 rounded col-12" type="submit">
          Login
        </button>
      </div>

      <div class="mt-3 text-center">
        <label>New here? </label>
        <a class="btn btn-link" routerLink="/register">Register</a>
      </div>
    </form>
  </div>
</div>
